<div class="inner-container">
  <!-- Header -->


  <div class="header-container">
  <div class="title-date-wrapper d-flex justify-content-between align-items-center w-100">
    <h4 class="title-text">Roster : Shambhavi</h4>
    <div class="date-picker-group d-flex align-items-center">
      <select id="datePicker" class="date-dropdown me-2">
        <option selected disabled>Date Selection</option>
        <option>Current Month</option>
        <option>Next Month</option>
        <option>Current Pay roll Period</option>
      </select>
      <span class="calendar-icon">
          <svg
            fill="#000000"
            width="20px"
            height="20px"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M19,4H17V3a1,1,0,0,0-2,0V4H9V3A1,1,0,0,0,7,3V4H5A3,3,0,0,0,2,7V19a3,3,0,0,0,3,3H19a3,3,0,0,0,3-3V7A3,3,0,0,0,19,4Zm1,15a1,1,0,0,1-1,1H5a1,1,0,0,1-1-1V12H20Zm0-9H4V7A1,1,0,0,1,5,6H7V7A1,1,0,0,0,9,7V6h6V7a1,1,0,0,0,2,0V6h2a1,1,0,0,1,1,1Z"
            ></path>
          </svg>
        </span>
    </div>
  </div>

  <!-- Legends move below in mobile -->
  <div class="legend-container">
        <div class="legend-item">
          <img src="assets/Info.png" width="20" height="16" />
          <span>Multiple Shifts/Pay codes</span>
        </div>
        <div class="legend-item">
          <img src="assets/comment.png" width="16" height="16" />
          <span>Comments Available</span>
        </div>
        <div class="legend-item">
          <img src="assets/temp-emp.png" width="16" height="16" />
          <span>Temporary Employee</span>
        </div>
      </div>
</div>


  <!-- Main Content -->
  <div class="main-content">
    <!-- Assignment Card -->
    <div
      class="assignment-card d-flex justify-content-between align-items-center"
    >
      <div class="assignment-info fw-bold text-primary">
        Today’s Assignment : 15-AUG-2025 , Site - Site A
      </div>
      <div class="force-clockout text-danger">
        You didn’t clock out on your previous clock in
        <button class="btn-clockout">Force Clock Out</button>
      </div>
      <div class="assignment-actions d-flex align-items-center">
         <!-- Clock In/Out Section -->
        <div class="clock-in d-flex flex-column align-items-center me-4">
          <img src="assets/clockin.png" width="30" height="30" />
          <span class="clock-time text-dark fw-bold">{{ clockInTime }}</span>
          <button class="btn-clockin" (click)="onClockIn()">Clock In</button>
        </div>
        <div class="clock-out d-flex flex-column align-items-center">
          <img src="assets/clockout.png" width="28" height="28" />
          <span class="clock-time text-dark fw-bold">{{ clockOutTime }}</span>
          <button class="btn-clockout" (click)="onClockOut()">Clock Out</button>
        </div>
      </div>
    </div>

    <!-- Open Shift Available Card -->
    <div class="open-shift-card d-flex align-items-center mb-3">
      <span class="fw-bold text-primary ms-2">Open Shift Available</span>
      <button class="btn-preview ms-3" (click)="openOpenShiftDialog()">
        Preview
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="18"
          height="18"
          fill="#fff"
          viewBox="0 0 24 24"
          style="vertical-align: middle; margin-left: 2px"
        >
          <path
            d="M12 5c-7.633 0-10 7-10 7s2.367 7 10 7 10-7 10-7-2.367-7-10-7zm0 12c-4.418 0-8-3.582-8-5s3.582-5 8-5 8 3.582 8 5-3.582 5-8 5zm0-8c-1.657 0-3 1.343-3 3s1.343 3 3 3 3-1.343 3-3-1.343-3-3-3z"
          />
        </svg>
      </button>
    </div>

    <div class="table-scroll-container">
      <table class="table table-bordered text-center resizable-table">
        <thead class="table-header">
          <tr>
            <th *ngFor="let header of headers" #resizable>
              {{ header }}
              <span
                class="resize-handle"
                (mousedown)="startResizing($event, resizable)"
              ></span>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let row of rows">
            <td class="date-box">
              <div>
                <div class="weekday">
                  {{ getFormattedDate(row.date).weekday }}
                </div>
                <div class="day">{{ getFormattedDate(row.date).day }}</div>
                <div class="year">
                  {{ getFormattedDate(row.date).monthYear }}
                </div>
              </div>
            </td>
            <td>{{ row.col2 }}</td>
            <td>{{ row.col3 }}</td>
            <td>{{ row.col4 }}</td>
            <td>{{ row.col5 }}</td>
            <td>{{ row.col6 }}</td>
            <td>{{ row.col7 }}</td>
            <td>
              <div class="paycode-dropdown-wrapper" style="position: relative">
                {{ row.col8 }}
                <button
                  class="paycode-dropdown-btn"
                  (click)="togglePaycodePopup(row)"
                >
                  <i class="bi bi-caret-down-fill"></i>
                </button>
                <img src="assets/Info.png" width="20" height="16" />
              </div>
            </td>
            <td class="comment-cell">
              <button
                class="comment-icon-btn"
                (click)="onCommentClick()"
                style="
                  background: none;
                  border: none;
                  padding: 0;
                  cursor: pointer;
                "
                aria-label="Comment"
              >
                <img
                  src="assets/comment.png"
                  width="20"
                  height="16"
                  alt="Comment"
                />
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <!-- Footer -->
</div>
